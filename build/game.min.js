!function(t){function i(i){for(var n,s,a=i[0],h=i[1],c=i[2],u=0,l=[];u<a.length;u++)s=a[u],o[s]&&l.push(o[s][0]),o[s]=0;for(n in h)Object.prototype.hasOwnProperty.call(h,n)&&(t[n]=h[n]);for(p&&p(i);l.length;)l.shift()();return r.push.apply(r,c||[]),e()}function e(){for(var t,i=0;i<r.length;i++){for(var e=r[i],n=!0,a=1;a<e.length;a++){var h=e[a];0!==o[h]&&(n=!1)}n&&(r.splice(i--,1),t=s(s.s=e[0]))}return t}var n={},o={0:0},r=[];function s(i){if(n[i])return n[i].exports;var e=n[i]={i:i,l:!1,exports:{}};return t[i].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=t,s.c=n,s.d=function(t,i,e){s.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,i){if(1&i&&(t=s(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var n in t)s.d(e,n,function(i){return t[i]}.bind(null,n));return e},s.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(i,"a",i),i},s.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},s.p="./";var a=window.webpackJsonp=window.webpackJsonp||[],h=a.push.bind(a);a.push=i,a=a.slice();for(var c=0;c<a.length;c++)i(a[c]);var p=h;r.push([532,1]),e()}({1423:function(t,i,e){"use strict";var n=this&&this.__extends||function(){var t=function(i,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(i,e)};return function(i,e){function n(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=e(1424),r=e(1428),s=e(79),a=e(531),h=e(530),c=e(1429),p=function(t){function i(){var i=t.call(this,"main")||this;i.entities=new Array,i.particleManager=new o.ParticleManager(i),i.playerRespawnTimer=0,i.playerRespawnTimerMax=2e3,i.playerCanFire=!0,i.player=new r.ShipEntity(i,i.particleManager,new s.Vec2),i.entities.push(i.player);for(var e=0;e<8;++e)i.entities.push(new a.AsteroidEntity(i,i.particleManager,new s.Vec2,2+e%4));return i.shipController=new c.ShipController(i,i.player,i.entities),i}return n(i,t),i.prototype.create=function(){var t=this;this.scale.on("resize",function(i){t.cameras.resize(i.width,i.height)},this);var i=this.cameras.cameras[0].width,e=this.cameras.cameras[0].height;this.player.setPosition(i/2,e/2),this.entities.forEach(function(t){t instanceof a.AsteroidEntity&&t.setPosition(Math.random()*i,Math.random()*e),t.create()}),this.shipController.create()},i.prototype.update=function(t,i){var e=this;if(this.shipController.update(t,i),this.playerRespawnTimer>0)this.playerRespawnTimer-=i;else if(!this.player.isAlive()){var n=this.cameras.cameras[0].width,o=this.cameras.cameras[0].height;this.player.respawn(new s.Vec2(n/2,o/2)),this.entities.push(this.player),this.shipController.enabled=!0}this.player.isAlive()&&(this.input.activePointer.isDown?(this.shipController.enabled=!1,this.playerCanFire&&(this.entities.push(this.player.fire()),this.playerCanFire=!1),this.player.moveTo(new s.Vec2(this.input.activePointer.x,this.input.activePointer.y))):this.playerCanFire=!0),this.entities.forEach(function(t){t.update(i)}),this.entities.forEach(function(t){t instanceof a.AsteroidEntity&&e.entities.forEach(function(i){i instanceof r.ShipEntity&&!e.player.isImmune()?i.isColliding(t)&&e.destroyPlayer():i instanceof h.RocketEntity&&i.isColliding(t)&&(t.getAsteroidSize()>0&&(e.entities.push(new a.AsteroidEntity(e,e.particleManager,t.getPosition(),t.getAsteroidSize()-1).create()),e.entities.push(new a.AsteroidEntity(e,e.particleManager,t.getPosition(),t.getAsteroidSize()-1).create())),t.destroy(),i.destroy())})});for(var c=this.entities.length-1;c>=0;--c)this.entities[c].isAlive()||this.entities.splice(c,1);this.particleManager.update(i)},i.prototype.destroyPlayer=function(){this.player.destroy(),this.playerRespawnTimer=this.playerRespawnTimerMax},i}(Phaser.Scene);i.Main=p},1424:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e(1425),o=function(){function t(t){this.scene=t,this.particles=new Array}return t.prototype.addParticle=function(t,i,e,o){this.particles.push(new n.ParticleEntity(this.scene,t,i,e,o).create())},t.prototype.update=function(t){for(var i=this.particles.length-1;i>=0;--i)this.particles[i].isAlive()||this.particles.splice(i,1);this.particles.forEach(function(i){i.update(t)})},t}();i.ParticleManager=o},1425:function(t,i,e){"use strict";var n=this&&this.__extends||function(){var t=function(i,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(i,e)};return function(i,e){function n(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=e(250),r=e(79),s=function(t){function i(e,n,o,s,a){var h=t.call(this,e,n,o,i.SIZE,!1)||this;h.moveSpeed=s,h.lifeTimerMax=h.lifeTimer=a,h.velocity.x=Math.sin(h.rotation)*h.moveSpeed,h.velocity.y=Math.cos(h.rotation)*h.moveSpeed;var c=h.size/2;return h.vertices.push(new r.Vec2(0,-c),new r.Vec2(Math.sin(Math.PI/4)*c,Math.cos(Math.PI/4)*c),new r.Vec2(Math.sin(Math.PI/4)*-c,Math.cos(Math.PI/4)*c)),h}return n(i,t),i.prototype.update=function(i){t.prototype.update.call(this,i),this.alive&&(this.lifeTimer>0?(null!=this.graphics&&(this.graphics.alpha=this.lifeTimer/this.lifeTimerMax),this.lifeTimer-=i):this.destroy())},i.SIZE=16,i}(o.SceneEntity);i.ParticleEntity=s},1426:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e(79),o=function(){function t(t,i){this.position=t,this.rotation=i,this.velocity=new n.Vec2,this.angularVel=0,this.alive=!0}return t.prototype.update=function(t){this.alive&&(this.position.x+=this.velocity.x*t,this.position.y+=this.velocity.y*t,this.rotation+=this.angularVel*t)},t.prototype.getPosition=function(){return this.position.clone()},t.prototype.setPosition=function(t,i){this.position.x=t,this.position.y=i},t.prototype.getRotation=function(){return this.rotation},t.prototype.setRotation=function(t){this.rotation=t},t.prototype.isAlive=function(){return this.alive},t.prototype.destroy=function(){this.alive=!1},t}();i.Entity=o},1427:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,i,e){void 0===t&&(t=0),void 0===i&&(i=0),void 0===e&&(e=0),this.r=t,this.g=i,this.b=e}return t.prototype.getValue=function(){return(255&this.r)<<16|(255&this.g)<<8|255&this.b},t.prototype.getString=function(){return"#"+this.getValue().toString(16)},t.mix=function(i,e,n){var o=1-n;return new t(i.r*o+e.r*n,i.g*o+e.g*n,i.b*o+e.b*n)},t}();i.Color=n},1428:function(t,i,e){"use strict";var n=this&&this.__extends||function(){var t=function(i,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(i,e)};return function(i,e){function n(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=e(251),r=e(79),s=e(530),a=function(t){function i(e,n,o){var s=t.call(this,e,n,o,2*Math.PI*Math.random(),i.SIZE,!0)||this;s.rotateTo=s.rotation,s.moveSpeed=.15,s.rotateSpeed=.0025,s.immunity=!0,s.immunityTimerMax=2e3,s.immunityTimer=s.immunityTimerMax,s.velocity.x=Math.sin(s.rotation)*s.moveSpeed,s.velocity.y=Math.cos(s.rotation+Math.PI)*s.moveSpeed;var a=s.size/2;return s.vertices.push(new r.Vec2(0,-a),new r.Vec2(Math.sin(Math.PI/4)*a,Math.cos(Math.PI/4)*a),new r.Vec2(0,a/2),new r.Vec2(Math.sin(Math.PI/4)*-a,Math.cos(Math.PI/4)*a)),s}return n(i,t),i.prototype.update=function(i){if(t.prototype.update.call(this,i),this.alive){if(this.rotation!=this.rotateTo){var e=this.rotateTo-this.rotation;e<-Math.PI&&(e=-e+2*(e+Math.PI)),e>Math.PI&&(e=-e+2*(e-Math.PI)),Math.abs(e)>this.rotateSpeed*i?this.angularVel=(e>0?1:-1)*this.rotateSpeed:(this.rotation=this.rotateTo,this.angularVel=0),this.velocity.x=Math.sin(this.rotation)*this.moveSpeed,this.velocity.y=Math.cos(this.rotation+Math.PI)*this.moveSpeed;var n=this.position.clone();n.x-=Math.sin(this.rotation)*this.size/2,n.y-=Math.cos(this.rotation-Math.PI)*this.size/2,this.addParticle(n,this.rotation-Math.PI,.05,200)}this.immunity&&(this.immunityTimer>0?(this.immunityTimer-=i,null!=this.graphics&&(this.graphics.alpha=Math.floor(this.immunityTimer/(this.immunityTimerMax/16))%2==0?0:1)):(this.immunity=!1,null!=this.graphics&&(this.graphics.alpha=1)))}},i.prototype.moveTo=function(t){this.rotateTo=Math.atan2(t.y-this.position.y,t.x-this.position.x)+Math.PI/2},i.prototype.fire=function(){var t=new r.Vec2(this.position.x+Math.sin(this.rotation)*this.size,this.position.y-Math.cos(this.rotation)*this.size);return new s.RocketEntity(this.scene,this.particleManager,t,this.rotation).create()},i.prototype.respawn=function(t){this.alive=!0,this.position=t,this.immunity=!0,this.immunityTimer=this.immunityTimerMax,this.velocity.x=Math.sin(this.rotation)*this.moveSpeed,this.velocity.y=Math.cos(this.rotation+Math.PI)*this.moveSpeed,this.create()},i.prototype.isImmune=function(){return this.immunity},i.SIZE=32,i}(o.EmitterEntity);i.ShipEntity=a},1429:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e(531),o=e(79),r=e(529),s=function(){function t(t,i,e){this.scene=t,this.ship=i,this.entities=e,this.enabled=!0}return t.prototype.create=function(){},t.prototype.update=function(t,i){if(this.enabled&&this.ship.isAlive()){for(var e=this.ship.getPosition(),s=this.ship.getRotation()-Math.PI/2,a=Math.PI/6,h=new r.Line(e,new o.Vec2(e.x+256*Math.cos(s),e.y+256*Math.sin(s))),c=new r.Line(e,new o.Vec2(e.x+256*Math.cos(s+a),e.y+256*Math.sin(s+a))),p=new r.Line(e,new o.Vec2(e.x+256*Math.cos(s-a),e.y+256*Math.sin(s-a))),u=new r.Line(e,new o.Vec2(e.x+512*Math.cos(s),e.y+512*Math.sin(s))),l=t%12>1,y=0,f=0;f<this.entities.length;++f){var d=this.entities[f];if(d instanceof n.AsteroidEntity)if(d.isCollidingLine(u)&&!l&&(this.entities.push(this.ship.fire()),l=!0),d.isCollidingLine(h))0!=(v=e.distanceTo(d.getPosition()))&&(y+=Math.atan(d.getSize()/v));else if(d.isCollidingLine(c)){0!=(v=e.distanceTo(d.getPosition()))&&(y+=Math.atan(d.getSize()/v)-a)}else if(d.isCollidingLine(p)){var v;0!=(v=e.distanceTo(d.getPosition()))&&(y+=Math.atan(d.getSize()/v)+a)}}this.ship.moveTo(new o.Vec2(e.x+256*Math.cos(s+y),e.y+256*Math.sin(s+y)))}},t}();i.ShipController=s},250:function(t,i,e){"use strict";var n=this&&this.__extends||function(){var t=function(i,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(i,e)};return function(i,e){function n(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=e(1426),r=e(1427),s=e(529),a=function(t){function i(i,e,n,o,r){var s=t.call(this,e,n)||this;return s.scene=i,s.graphics=null,s.vertices=new Array,s.edgeWrap=r,s.size=o,s}return n(i,t),i.prototype.create=function(){return this.createImpl(i.FILL_COLOR,i.LINE_COLOR,i.LINE_WIDTH)},i.prototype.createImpl=function(t,i,e){null==this.graphics&&(this.graphics=this.scene.add.graphics()),this.graphics.lineStyle(e,i.getValue()),this.graphics.fillStyle(t.getValue()),this.graphics.beginPath();for(var n=0;n<this.vertices.length;++n){var o=this.vertices[n];0==n?this.graphics.moveTo(o.x,o.y):this.graphics.lineTo(o.x,o.y)}return this.graphics.closePath(),this.graphics.fillPath(),this.graphics.strokePath(),this},i.prototype.update=function(i){t.prototype.update.call(this,i);var e=this.scene.cameras.cameras[0].width,n=this.scene.cameras.cameras[0].height;this.edgeWrap?(this.position.x<-this.size&&(this.position.x=this.size+e),this.position.x>this.size+e&&(this.position.x=-this.size),this.position.y<-this.size&&(this.position.y=this.size+n),this.position.y>this.size+n&&(this.position.y=-this.size)):(this.position.x<-this.size||this.position.x>this.size+e||this.position.y<-this.size||this.position.y>this.size+n)&&this.destroy(),null!=this.graphics&&(this.graphics.x=this.position.x,this.graphics.y=this.position.y,this.graphics.rotation=this.rotation)},i.prototype.destroy=function(){t.prototype.destroy.call(this),null!=this.graphics&&(this.graphics.clear(),this.graphics.destroy(),this.graphics=null)},i.prototype.isColliding=function(t){if(this.vertices.length<2||t.vertices.length<2)return!1;for(var i=0;i<t.vertices.length;++i){var e=new s.Line(t.vertices[i],t.vertices[(i+1)%t.vertices.length]);if(e.a.x+=t.position.x,e.a.y+=t.position.y,e.b.x+=t.position.x,e.b.y+=t.position.y,this.isCollidingLine(e))return!0}return!1},i.prototype.isCollidingLine=function(t){if(this.vertices.length<2)return!1;for(var i=0;i<this.vertices.length;++i){var e=new s.Line(this.vertices[i],this.vertices[(i+1)%this.vertices.length]);if(e.a.x+=this.position.x,e.a.y+=this.position.y,e.b.x+=this.position.x,e.b.y+=this.position.y,e.intersects(t))return!0}return!1},i.prototype.getSize=function(){return this.size},i.FILL_COLOR=new r.Color(255,255,255),i.LINE_COLOR=new r.Color(64,64,64),i.LINE_WIDTH=2,i}(o.Entity);i.SceneEntity=a},251:function(t,i,e){"use strict";var n=this&&this.__extends||function(){var t=function(i,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(i,e)};return function(i,e){function n(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=function(t){function i(i,e,n,o,r,s){var a=t.call(this,i,n,o,r,s)||this;return a.particleManager=e,a}return n(i,t),i.prototype.addParticle=function(t,i,e,n){this.particleManager.addParticle(t,i,e,n)},i.prototype.destroy=function(){t.prototype.destroy.call(this);for(var i=0;i<this.size/4;++i)this.addParticle(this.position.clone(),2*Math.random()*Math.PI,.05+.05*Math.random(),500)},i}(e(250).SceneEntity);i.EmitterEntity=o},529:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,i){this.a=t.clone(),this.b=i.clone()}return t.prototype.intersects=function(t){var i=(this.b.x-this.a.x)*(t.b.y-t.a.y)-(this.b.y-this.a.y)*(t.b.x-t.a.x),e=(this.a.y-t.a.y)*(t.b.x-t.a.x)-(this.a.x-t.a.x)*(t.b.y-t.a.y),n=(this.a.y-t.a.y)*(this.b.x-this.a.x)-(this.a.x-t.a.x)*(this.b.y-this.a.y);if(0==i)return 0==e&&0==n;var o=e/i,r=n/i;return o>=0&&o<=1&&r>=0&&r<=1},t}();i.Line=n},530:function(t,i,e){"use strict";var n=this&&this.__extends||function(){var t=function(i,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(i,e)};return function(i,e){function n(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=e(251),r=e(79),s=e(250),a=function(t){function i(e,n,o,s){var a=t.call(this,e,n,o,s,i.SIZE,!1)||this;a.velocity.x=.75*Math.sin(a.rotation),a.velocity.y=.75*Math.cos(a.rotation+Math.PI);var h=a.size/2;return a.vertices.push(new r.Vec2(0,-h),new r.Vec2(0,h)),a}return n(i,t),i.prototype.create=function(){return this.createImpl(s.SceneEntity.FILL_COLOR,s.SceneEntity.LINE_COLOR,i.LINE_WIDTH)},i.LINE_WIDTH=4,i.SIZE=32,i}(o.EmitterEntity);i.RocketEntity=a},531:function(t,i,e){"use strict";var n=this&&this.__extends||function(){var t=function(i,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(i,e)};return function(i,e){function n(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=e(251),r=e(79),s=function(t){function i(i,e,n,o){var s=t.call(this,i,e,n,2*Math.PI*Math.random(),32+32*o,!0)||this;s.asteroidSize=o,s.angularVel=.001*(2*Math.random()-1);var a=.075*(1-s.asteroidSize/8);s.velocity.x=Math.sin(s.rotation)*a,s.velocity.y=Math.cos(s.rotation+Math.PI)*a;for(var h=4+2*s.asteroidSize,c=0;c<h;++c){var p=(.4*(Math.random()-.5)+.5)*s.size,u=2*Math.PI*(c/h);s.vertices.push(new r.Vec2(Math.sin(u)*p,Math.cos(u)*p))}return s}return n(i,t),i.prototype.getAsteroidSize=function(){return this.asteroidSize},i}(o.EmitterEntity);i.AsteroidEntity=s},532:function(t,i,e){"use strict";
/**
 * @author      NinthWorld <theninthworldix@gmail.com>
 * @date        June 28, 2019
 * @description Asteroids clone with Phaser 3 and TypeScript
 * @license     MIT
 */var n=this&&this.__extends||function(){var t=function(i,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(i,e)};return function(i,e){function n(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(i,"__esModule",{value:!0}),e(533);var o=e(1423),r={type:Phaser.AUTO,backgroundColor:"#ffffff",scale:{mode:Phaser.Scale.NONE,parent:"phaseroids",width:window.innerWidth,height:window.innerHeight},scene:o.Main},s=function(t){function i(){var i=t.call(this,r)||this;return window.addEventListener("resize",function(){i.scale.resize(window.innerWidth,window.innerHeight)},!1),i}return n(i,t),i}(Phaser.Game);i.Game=s,window.addEventListener("load",function(){new s})},79:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,i){void 0===t&&(t=0),void 0===i&&(i=0),this.x=t,this.y=i}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},t}();i.Vec2=n}});